<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Admin Data Viewer</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            margin: 0;
            padding: 0;
        }

        #app-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        main {
            flex-grow: 1;
            padding: 1rem;
        }

        #data-view {
            max-width: 1280px;
            margin-left: auto;
            margin-right: auto;
            padding: 0 1rem;
        }

        header {
            background-color: #1f2937;
            padding: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: white;
        }

        .section-title {
            font-size: 1.875rem;
            font-weight: 800;
            color: #1f2937;
            margin-bottom: 2rem;
            border-bottom: 2px solid #ef4444;
            padding-bottom: 0.5rem;
        }

        .data-card {
            background-color: white;
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
            margin-bottom: 2rem;
        }

        .card-header {
            font-size: 1.25rem;
            font-weight: 600;
            color: #374151;
            margin-bottom: 1rem;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }

        .table-container {
            overflow-x: auto;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 700px;
        }

        .data-table th, .data-table td {
            padding: 0.75rem 1.5rem;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }

        .data-table th {
            background-color: #ef4444;
            color: white;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
        }

        .data-table tr:nth-child(even) {
            background-color: #fef2f2;
        }

        .low-stock-row {
            background-color: #fee2e2;
            font-weight: 700;
            color: #991b1b;
        }

        .data-table tbody tr:hover {
            background-color: #fcebeb;
        }

        .data-table td {
            font-size: 0.875rem;
            color: #374151;
        }

        .data-table .font-medium { font-weight: 500; }
        .data-table .font-semibold { font-weight: 600; }

        #profile-list { list-style: none; padding: 0; }
        #profile-list li { margin-bottom: 0.5rem; color: #4b5563; }
        #profile-list strong { font-weight: 500; color: #1f2937; display: inline-block; width: 6rem; }
    </style>
</head>
<body>
<div id="app-container">
    <header>
        <h1 class="header-title">Pet Shop Admin Backend</h1>
    </header>

    <main>
        <div id="data-view">
            <h2 class="section-title">Current Backend Data Snapshot</h2>

            <!-- Product Catalog -->
            <div class="data-card">
                <h3 class="card-header">Product Catalog</h3>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Stock</th>
                                <th>Reorder Threshold</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% productsData.forEach(p => { %>
                                <tr class="<%= p.stock < p.reorderThreshold ? 'low-stock-row' : '' %>">
                                    <td class="font-medium"><%= p.id %></td>
                                    <td><%= p.name %></td>
                                    <td><%= p.category %></td>
                                    <td>$<%= p.price.toFixed(2) %></td>
                                    <td><%= p.stock %></td>
                                    <td><%= p.reorderThreshold %></td>
                                </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Cart Items -->
            <div class="data-card">
                <h3 class="card-header">Current Cart State</h3>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Unit Price</th>
                                <th>Quantity</th>
                                <th>Line Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% if (cartItems.length === 0) { %>
                                <tr>
                                    <td colspan="5" style="text-align:center; font-style: italic;">The cart is empty</td>
                                </tr>
                            <% } else { %>
                                <% cartItems.forEach(item => { %>
                                    <tr>
                                        <td class="font-medium"><%= item.id %></td>
                                        <td><%= item.name %></td>
                                        <td>$<%= item.price.toFixed(2) %></td>
                                        <td><%= item.quantity %></td>
                                        <td class="font-semibold">$<%= item.totalPrice %></td>
                                    </tr>
                                <% }) %>
                            <% } %>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- User Profile -->
            <div class="data-card">
                <h3 class="card-header">User Profile</h3>
                <ul id="profile-list">
                    <li><strong>Name:</strong> <%= profileData.name %></li>
                    <li><strong>Phone:</strong> <%= profileData.phone %></li>
                    <li><strong>Email:</strong> <%= profileData.email %></li>
                    <li><strong>Address:</strong> <%= profileData.address %></li>
                    <li><strong>Pincode:</strong> <%= profileData.pincode %></li>
                </ul>
            </div>

        </div>
    </main>
</div>
</body>
</html>
